---
title: Linux_(4)
date: 2023-01-05
categories: [Linux]
tags: [linux]
#pin: true
---

### 사용자 계정 관련 파일

- 리눅스는 다중 사용자 시스템이므로 사용자를 구별하고 사용자에게 적절한 자원을 할당해주어야 함.
- 사용자 계정은 사용자가 시스템에 접근할 수 있는 유일한 방법
- 시스템 관리자 입장에서도 사용자의 접근 권한을 통제할 수 있는 중요한 수단

#### /etc/passwd

- 사용자 계정 정보가 저장된 기본 파일
- 한 행에 사용자 한명에 대한 정보가 기록되며, : 으로 구분되는 일곱개의 항목

```bash
로그인 ID : x : UID : GID : 설명 : 홈 디렉터리 : 로그인 셸

1. 로그인 ID : 사용자 계정의 이름
2. x : 초기 유닉스 시스템에서 사용자 암호를 저장하던 항목
3. UID : 사용자 ID 번호로 시스템이 사용자를 구별하기 위해 사용
  - 0~999, 65534 번은 시스템 사용자를 위한 UID, 일반 사용자는 1000부터
4. GID : 그룹  ID
5. 설명 : 사용자의 실명이나 부서명 등 일반적인 정보 기록
6. 홈 디렉터리 : 사용자 계정에 할당된 홈 디렉터리의 절대경로
7. 로그인 셸 : 사용자의 로그인 셸을 지정
```

#### /etc/shadow

- 사용자 암호에 관한 정보를 별도로 관리하는 파일
- root 계정으로만 내용을 볼 수 있음.

```bash
로그인 ID : 암호 : 최종변경일 : MIN : MAX : WARNING : INACTIVE : EXPIRE : Flag

1. 로그인 ID : 사용자 계정 이름
2. 암호 : 실제 비밀번호가 암호화되어 저장
3. 최종 변경일 : 암호가 마지막으로 변경된 날짜
4. MIN : 암호를 변경한 후 사용해야 하는 최소 기간
5. MAX : 암호를 사용할 수 있는 최대 기간
6. WARNING : 암호가 만료되기 전에 경고를 시작하는 날수
7. INACTIVE : 암호가 만료된 후에도 이 항목에 지정된 날수 동안은 로그인 가능
8. EXPIRE : 사용자 계정이 만료되는 날
9. Flag : 향후 사용할 목적으로 비워둔 항목
```

#### /etc/group

- 그룹에 대한 정보 저장

```bash
그룹 이름 : x : GID : 그룹 멤버

1. 그룹이름 : 그룹의 이름
2. x : 그룹의 암호를 저장 (여기에 암호화된 그룹암호를 저장하거나 /etc/gshadow 파일에 그룹암호 저장)
3. GID : 그룹을 식별하는 번호
4. 그룹 멤버 : 그룹에 속한 멤버들의 사용자 계정 이름이며 쉼표로 사용자를 구별
```

### 사용자 계정 관리 명령

#### useradd

- 사용자 계정 생성
- 형식 : [useradd [옵션] [로그인ID]]

```bash
-u uid : UID 지정
-o : UID의 중복 허용
-g gid : 기본 그룹의 GID 지정
-d 디렉터리명 : 홈 디렉터리 지정
-s 셸 : 기본 셸 지정
등...
```

#### usermod

- 사용자 계정 정보 수정
- 형식 : [usermod [옵션] [로그인 ID]]

useradd 와 동일한 옵션.

#### userdel

- 사용자 계정 삭제
- 형식 : [userdel [옵션] [로그인ID]]

```bash
-r : 홈 디렉터리도 같이 삭제
-f : 사용자가 로그인 중이어도 강제로 삭제
```
