---
title: Linux_(1)
date: 2022-12-03
categories: [Linux]
tags: [linux]
#pin: true
---

## 리눅스

- 리눅스는 유닉스에서 떨어져 나온 오픈소스로 이식성이 뛰어나며 자유롭게 사용할 수 있습니다.
  현재 리눅스는 유닉스보다 더 큰 점유율을 갖고 있으며 보안 업데이트, 버그 수정, 개발자 커뮤니티 등의 시스템을 무료로 제공하고 있습니다.

- 윈도우에서 리눅스 쉘 접속 방법 : cmd/powershell 실행
- ssh [userID]@서버IP

### 기초 명령 사용법

**유닉스의 파일과 디렉토리 이름에는 알파벳, 숫자, (-), (\_), (.) 만을 사용하며 알파벳은 대소문자를 구분하여 사용합니다. 또한 이름이 (.)으로 시작하면 숨김파일로 간주합니다.**

| 명령어 이름       |                          사용법/내용                          |
| ----------------- | :-----------------------------------------------------------: |
| **banner**        |                        banner [문자열]                        |
| **date**          |                    date (날짜와 시간 출력)                    |
| **clear**         |                          화면을 지움                          |
| **man**           |                 유닉스가 제공하는 명령어 출력                 |
| **passwd**        |                         패스워드 변경                         |
| **logout**        |                    로그인 셸에서 접속해제                     |
| **exit / Ctrl+D** |                     유닉스시스템 접속해제                     |
| **pwd **          |                 현재 디렉토리 확인 (절대경로)                 |
| **cd**            |  디렉토리 이동 (목적지를 지정하지 않으면 홈 디렉토리로 이동)  |
| **ls**            |                    디렉토리의 내용을 출력                     |
| **ls -l**         |                     파일의 상세 정보 출력                     |
| **ls -ld**        |                   디렉토리 자체의 정보 출력                   |
| **mkdir**         |                         디렉토리 생성                         |
| **mkdir -p**      | 디렉토리 이름으로 지정한 경로 중 중간 단계 디렉토리 자동 생성 |
| **rmdir**         |           디렉토리 삭제(디렉토리가 비어있어야 삭제)           |
| **rm -r**         | 디렉토리와 그 아래 모든 파일 삭제(rm -ri : 삭제 시 확인받음)  |
| **cat**           |      파일의 내용을 화면에 출력 (cat -n 행번호 붙여 출력)      |
| **more**          |       파일 내용을 화면 단위로 출력 (뒷부분 출력 : tail)       |
| **/[문자열]**     | 파일 내용 중 문자열이 있는 곳을 찾음. (다음 검색 :n, 종료 :q) |
| **cp **           |         파일이나 디렉토리 복사 (cp 파일명/디렉토리명)         |
| **mv **           |     파일/디렉토리의 이름을 바꾸거나 다른 디렉토리로 이동      |

### vim(vi improved) 조작

| 명령키         |                           기능:                           |
| -------------- | :-------------------------------------------------------: |
| **:q**         |               작업한 것이 없을 때 그냥 종료               |
| **:q!**        |             작업한 내용을 저장하지 않고 종료              |
| **:w[파일명]** | 작업한 내용을 저장만 함. 파일명을 지정하면 새 파일로 저장 |
| **:wq / :wq!** |             작업한 내용을 저장하고 vim을 종료             |
| **ZZ**         |             작업한 내용을 저장하고 vim을 종료             |
| **:set nu**    |                        행번호 출력                        |
| **yy / #yy**   |       커서가 위치한 행을 복사 / 복사할 행의 수 지정       |
| **p / P**      |         커서가 위치한 행의 아래쪽/위쪽에 붙여넣기         |
| **/문자열**    |    문자열 아래방향으로 검색(n을 눌러 다음 문자열 검색)    |
| **alias**      |         별칭, 명령을 편리하게 실행하기 위한 기능          |

## 파일의 접근 권한

### 접근 권한의 종류

| 권한     |          파일           |                            디렉토리                            |
| -------- | :---------------------: | :------------------------------------------------------------: |
| **읽기** |   파일을 읽거나 복사    |           ls명령으로 디렉토리 목록을 볼 수 있어야함            |
| **쓰기** | 파일을 수정, 이동, 삭제 |                파일을 생성하거나 삭제할 수 있음                |
| **실행** |       파일을 실행       | cd명령 사용 가능, 파일을 디렉토리로 이동하거나 복사할 수 있음. |

### 접근 권한 표기 방법

- 맨앞의 -는 파일의 종류를 나타내는 문자이고 소유자, 그룹, 기타 사용자 순서로 표기한다.
- chmod 명령으로 변경하고자 하는 접근권한을 문자+기호 or 숫자로 변경한다.
- 기본 접근 권한은 umask명령으로 설정할 수 있다. ex) umask 022

| 접근권한       |                                         의미                                         |
| -------------- | :----------------------------------------------------------------------------------: |
| **-rwxr-xr-x** | 소유자는 읽기,쓰기,실행 권한을 갖고 있고 그룹과 기타사용자는 읽기와 실행 권한만 가짐 |
| **-r-xr-xr-x** |                소유자, 그룹, 기타사용자 모두 읽기와 실행 권한만 가짐                 |
| **-rw-------** |          소유만 읽기,쓰기 권한을 갖고 그룹과 기타사용자는 아무 권한도 없음           |
| **-rwxrwxrwx** |           소유자, 그룹, 기타사용자 모두 읽기, 쓰기, 실행 권한을 갖고 있음            |

#### grep / egrep / fgrep

- 지정한 정규 표현식 패턴을 포함한 모든 행을 출력한다. ex) grep [옵션] 패턴 [파일명]

|  문자   |              의미               |                                 예                                  |
| :-----: | :-----------------------------: | :-----------------------------------------------------------------: |
|  **^**  |            행의 시작            |                 ^linux : 리눅스로 시작하는 모든 행                  |
|  **$**  |             행의 끝             |                       t$ : t로 끝나는 모든 행                       |
|  **.**  |             한 글자             |               a..b : a로 시작하고 b로 끝나는 네 문자                |
| **[]**  |     괄호 안의 문자 중 하나      |        linux[A-Z] : linux 뒤에 대문자 알파벳이 추가된 문자열        |
| **[^]** | 괄호 안에 있는 문자가 아닌 문자 | linux[^0-9] : linux 뒤에 숫자가 아닌 임의의 한 문자가 추가된 문자열 |
| **[*]** |       없거나 여러 번 반복       |      linux[0-9]\* : linux 또는 linux 끝에 숫자가 추가된 문자열      |

- egrep은 grep과 사용법은 동일하며 정규 표현식에 사용할 수 있는 특수문자가 추가됨.

| 문자 |            의미            |                  예                   |
| :--: | :------------------------: | :-----------------------------------: |
|  +   | 앞의 글자가 하나 이상 나옴 |  [a-z]+ark : ark로 끝나는 모든 단어   |
| xly  |        x나 y중 하나        |           a ㅣ b : a또는 b            |
| (l)  |        그룹 만들기         | (0l1)+ : 0 또는 1이 하나 이상 오는 수 |

- fgrep은 지정한 파일에서 문자열을 찾는 명령으로, 문자열에 포함된 모든 정규식 관련 특수 문자를 일반 문자로 해석해 검색한다.

## 프로세스의 개념과 종류

- 프로세스란 현재 리눅스에서 실행 중인 프로그램을 뜻한다. 리눅스는 여러 개의 프로세스를 동시에 실행할 수 있으며 이 중에는 시스템 프로세스와 사용자 프로세스가 있다.

| 프로세스 종류 |                                                 내용                                                 |
| :-----------: | :--------------------------------------------------------------------------------------------------: |
| 데몬 프로세스 |         평소 대기 상태로 서비스 요청을 기다리다가 서비스 요청이 들어오면 해당 서비스를 제공          |
| 부모 프로세스 | 다른 프로세스를 만드는 프로세스로 1번 프로세스를 제외한 모든 프로세스는 부모 프로세스를 가지고 있음. |
| 자식 프로세스 |   부모 프로세스에 의해 만들어지는 프로세스로 할 일이 끝나면 부모 프로세스에게 결과를 돌려주고 종료   |
| 고아 프로세스 |                      자식 프로세스가 실행중인 동안 부모 프로세스가 종료된 상황                       |
| 좀비 프로세스 |                자식 프로세스가 실행을 종료했으나 프로세스 테이블 목록에 남아있는 경우                |

### 프로세스의 상세 정보 출력 ps -f

| 항목  |                     의미                      |
| :---: | :-------------------------------------------: |
|  UID  |         프로세스를 실행시킨 사용자 ID         |
|  PID  |                 프로세스 번호                 |
| PPID  |              부모 프로세스 번호               |
|   C   |              프로세스의 우선순위              |
| STIME | 프로세스의 시작 시간을 시:분:초 형식으로 출력 |
|  TTY  |     프로세스가 실행된 단말기 종류와 번호      |
| CMID  |       실행되고 있는 프로그램 이름(명령)       |

### 프로세스 종료 명령

- kill : 지정한 시그널을 프로세스에게 보낸다. (9:강제종료, 15:프로세스종료 등...)

### 포그라운드와 백그라운드

- 포그라운드 : 사용자가 입력한 명령이 완료될 때까지 기다린 후 새로운 명령을 입력받아 처리하는 방식을 포그라운드 처리라 한다. 포그라운드 처리로 실행되고 있는 프로세스를 포그라운드 프로세스라 하고, 이를 포그라운드 작업이라고 한다.

- 백그라운드 : 명령이 입력되면 명령의 실행이 완료되기 전에 프롬프트를 먼저 띄워서 셸이 다음 작업을 처리할 수 있도록 하고, 셸의 뒤에서 입력된 작업을 계속하는 방식이다. 백그라운드 방식으로 처리되는 프로세스가 백그라운드 프로세스이고, 이를 백그라운드 작업이라고 한다.

작업을 포그라운드 방식으로 실행하면 한 번에 하나의 명령만 실행시키므로 여러 프로세스를 동시에 실행시킬 수 없다. 하지만 백그라운드 처리는 여러 프로세스를 동시에 실행시킬 수 있으며 명령을 백그라운드로 실행하려면 명령의 마지막에 &기호를 추가한다.

|           명령           |                              의미                               |
| :----------------------: | :-------------------------------------------------------------: |
|       jobs[%작업]        |                  백그라운드 작업을 모두 보여줌                  |
| Ctrl+z l stop[%작업번호] |                     포그라운드 작업을 중지                      |
|      bg [%작업번호]      |       작업번호가 지시하는 작업을 백그라운드 작업으로 전환       |
|      fg [%작업번호]      |       작업번호가 지시하는 작업을 포그라운드 작업으로 전환       |
|          Ctrl+c          |                      포그라운드 작업 종료                       |
|      kill %작업번호      |                      백그라운드 작업 종료                       |
|       nohup 명령&        |            로그아웃 후에도 백그라운드 작업 계속 실행            |
|          users           |                 로그인한 모든 사용자 정보 보기                  |
|           who            |           시스템을 사용하고 있는 사용자의 정보를 출력           |
|            w             | 사용자가 현재 무엇을 하고있는지 실행 중인 작업에 대한 정보 출력 |
|            su            |                다른사용자로 전환(비밀번호 필요)                 |
