---
title: AWS Auto Scaling
date: 2022-12-26
categories: [AWS]
tags: [aws, autoscaling]
#pin: true
---

### Auto Scaling

- 가용성(Availability) : 해당 시스템이나 서비스가 가동 및 실행되는 시간의 비율로 매우 중요한 업무 시스템을 설계해야 하는 경우 인프라의 가용성을 극대화
  할 수 있는 아키텍처로 인프라를 구성해야 하며 이러한 시스템을 고가용성 시스템이라고 한다.

- 확장성(Scalability) : 서비스나 응용프로그램이 증가하는 성능 요구에 맞게 향상될 수 있는 정도

  - Scale-Up : 단일 하드웨어에대해 시스템리소스를 추가하거나 하드웨어를 강력한것으로 교체
  - Scale-Out : 서버를 여러 대 추가하여 처리능력 향상
  - Scale-In : Scale out으로 늘린 인스턴스를 다시 줄이는 행위

- 시작구성

  - AMI, 인스턴스, 키페어, 보안그룹 등...
  - 시작구성은 여러개의 Auto Scaling 그룹에 지정될 수 있지만 Auto Scaling 그룹은 하나의 시작구성만 지정(수정/변경 불가능)

- 인스턴스 조정 옵션

  - 현재 인스턴스 수준 유지관리
  - 수동 조정 : 최소, 최대 또는 원하는 용량의 변경 사항 조정
  - 일정 기반 조정 : 예측 가능한 일정에 따라 수요가 증감하는 경우 일정에 따른 확장/축소를 자동화
  - 온디맨드 기반 조정 : 가장 효과적인 방법으로 CPU 사용률이 일정시간 일정수준으로 유지될 때마다 인스턴스를 확장

- 동작원리
  - 문제가 생겨 필요한 EC2가 죽었을 때 오토스케일링이 감지를 하고 시작구성에 맞는 인스턴스를 생성해서 오토스케일링 클러스터에 넣어준다.

### ELB 연결

- Auto Scaling에 ELB를 연결 후 ELB 지표를 사용하여 수요 변동에 따라 그룹의 인스턴스 수를 조정하도록 구성하고 필요에 따라 ELB 상태확인을 추가하거나 대상 그룹의 정상 호스트 수가 허용된 것보다 적을 경우 알림을 보내는 CloudWatch 연결
